(function(t){function e(e){for(var n,u,i=e[0],l=e[1],c=e[2],f=0,p=[];f<i.length;f++)u=i[f],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&p.push(o[u][0]),o[u]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);s&&s(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(a.splice(e--,1),t=u(u.s=r[0]))}return t}var n={},o={app:0},a=[];function u(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=t,u.c=n,u.d=function(t,e,r){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)u.d(r,n,function(e){return t[e]}.bind(null,n));return r},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/build/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var s=l;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"00c2":function(t,e,r){},"034f":function(t,e,r){"use strict";var n=r("85ec"),o=r.n(n);o.a},"33dc":function(t,e,r){},"3abb":function(t,e,r){"use strict";var n=r("33dc"),o=r.n(n);o.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("a",{attrs:{href:"/"}},[t._v(" Home ")]),t._v(" | "),r("router-link",{attrs:{to:"/"}},[t._v("Build")])],1),r("router-view")],1)},a=[],u=(r("034f"),r("2877")),i={},l=Object(u["a"])(i,o,a,!1,null,null,null),c=l.exports,s=r("8c4f"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"build"},[r("FormulaCalculateBox"),r("p",{staticStyle:{"margin-top":"20px"}},[t._v(" 计算结果仅作参考 ")])],1)},p=[],d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Card",{staticClass:"formula-calculate-box"},[r("Row",t._l(t.formulas,(function(e,n){return r("i-col",{key:t.inputBoxID(n),attrs:{span:t.colSpan}},[r("input-number",{attrs:{min:1,max:999,step:1},model:{value:e.A,callback:function(r){t.$set(e,"A",r)},expression:"formula.A"}}),r("input-number",{attrs:{min:1,max:999,step:1},model:{value:e.B,callback:function(r){t.$set(e,"B",r)},expression:"formula.B"}}),r("input-number",{attrs:{min:1,max:999,step:1},model:{value:e.C,callback:function(r){t.$set(e,"C",r)},expression:"formula.C"}}),r("input-number",{attrs:{min:1,max:999,step:1},model:{value:e.D,callback:function(r){t.$set(e,"D",r)},expression:"formula.D"}}),r("div",[t.formulas.length>1?r("Button",{staticStyle:{"margin-top":"4px"},attrs:{type:"error",shape:"circle",icon:"md-remove"},on:{click:function(e){return t.removeGroup(n)}}},[t._v(" Remove ")]):t._e()],1)],1)})),1),t.formulas.length<4?r("Button",{staticStyle:{"margin-top":"4px"},attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:t.addGroup}},[t._v(" Add ")]):t._e(),r("Divider"),r("Row",t._l(t.formulas,(function(e,n){return r("i-col",{key:t.showBoxID(n),attrs:{span:t.colSpan}},[r("ResultShowBox",{attrs:{ships:t.specialShips(e)}})],1)})),1),r("Divider"),r("ResultShowBox",{attrs:{ships:t.commonShips()}})],1)},m=[],h=(r("a4d3"),r("e01a"),r("d28b"),r("4de4"),r("d81d"),r("13d5"),r("a434"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),r("284c")),v=r("2f3a"),b=r("7e97"),y=r("0da1"),x=r("435b"),S=r("2593"),w=r("e03c"),B=r("2427"),_=r.n(B),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"result-show-box",staticStyle:{"text-align":"center"}},[t.ships.length?r("div",t._l(t.sortedShips,(function(e){return r("Button",{key:e.shipCid,style:t.style(e.star),attrs:{shape:"circle"},domProps:{textContent:t._s(e.name)}})})),1):r("div",[r("Button",{attrs:{shape:"circle",type:"dashed"}},[t._v("None")])],1)])},C=[],D=(r("4e82"),{name:"ResultShowBox",props:{ships:Array},components:{Button:y["a"]},computed:{sortedShips:function(){var t=this;return t.ships.sort((function(t,e){return t.star-e.star}))}},methods:{style:function(t){return{"background-color":this.getColor(t),"border-color":this.getColor(t),color:"#FFFFFF"}},getColor:function(t){return{1:"#74787a",2:"#19be6b",3:"#619ac3",4:"#c06f98",5:"#f9bd10",6:"#ee2746"}[t]}}}),O=D,j=(r("a5fd"),Object(u["a"])(O,g,C,!1,null,"b8db654e",null)),k=j.exports;r("a623"),r("45fc");function A(t,e,r,n,o){var a=[],u=!0,i=!1,l=void 0;try{for(var c,s=o[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var f=c.value,p=f.min.ABCD,d=t>=p[0]&&e>=p[1]&&r>=p[2]&&n>=p[3];if(d){var m=f.max,h=!0;if(null!=m){var v=[t,e,r,n],b=[];for(var y in m.ABCD)null!=m.ABCD[y]&&b.push(v[y]>=m.ABCD[y]);"or"===m.type?h=!b.some((function(t){return t})):"and"===m.type&&(h=!b.every((function(t){return t})))}if(h){var x={type:f.shipType,name:f.shipName,star:f.star,cid:f.shipCid};a.push(x)}}}}catch(S){i=!0,l=S}finally{try{u||null==s.return||s.return()}finally{if(i)throw l}}return a}var F={name:"FormulaCalculateBox",components:{Card:w["a"],InputNumber:S["a"],Divider:x["a"],ResultShowBox:k,Button:y["a"],Row:b["a"],"i-col":v["a"]},data:function(){return{formulas:[{A:120,B:120,C:120,D:120}],rules:[]}},mounted:function(){var t=this;_.a.get("./buildRules.json").then((function(e){t.rules=e.data}))},computed:{colSpan:function(){return{1:24,2:12,3:8,4:6}[this.formulas.length]}},methods:{inputBoxID:function(t){return"index"+t},showBoxID:function(t){return"showbox"+t},addGroup:function(){var t=this,e=t.formulas[t.formulas.length-1],r={A:e.A,B:e.B,C:e.C,D:e.D};t.formulas.push(r)},removeGroup:function(t){var e=this;e.formulas.splice(t,1)},calculateShips:function(t){return A(t.A,t.B,t.C,t.D,this.rules)},commonShips:function(){var t=this,e={},r=[],n=!0,o=!1,a=void 0;try{for(var u,i=t.formulas[Symbol.iterator]();!(n=(u=i.next()).done);n=!0){var l=u.value,c=t.calculateShips(l),s=!0,f=!1,p=void 0;try{for(var d,m=c[Symbol.iterator]();!(s=(d=m.next()).done);s=!0){var v=d.value;e[v.cid]=v}}catch(y){f=!0,p=y}finally{try{s||null==m.return||m.return()}finally{if(f)throw p}}r.push(new Set(c.map((function(t){return t.cid}))))}}catch(y){o=!0,a=y}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}var b=Object(h["a"])(r.reduce((function(t,e){return new Set(Object(h["a"])(t).filter((function(t){return e.has(t)})))})));return b.map((function(t){return e[t]}))},specialShips:function(t){var e=this,r=e.calculateShips(t),n=new Set(e.commonShips().map((function(t){return t.cid}))),o=r.filter((function(t){return!n.has(t.cid)}));return o}}},R=F,$=(r("3abb"),Object(u["a"])(R,d,m,!1,null,"505beeea",null)),P=$.exports,I={name:"build",components:{FormulaCalculateBox:P},data:function(){return{}}},E=I,G=Object(u["a"])(E,f,p,!1,null,null,null),M=G.exports;n["a"].use(s["a"]);var T=[{path:"/",name:"index",component:M}],N=new s["a"]({routes:T}),J=N;r("6799");n["a"].config.productionTip=!1,new n["a"]({router:J,render:function(t){return t(c)}}).$mount("#app")},"85ec":function(t,e,r){},a5fd:function(t,e,r){"use strict";var n=r("00c2"),o=r.n(n);o.a}});
//# sourceMappingURL=app.16e30e97.js.map